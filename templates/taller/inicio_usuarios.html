{% extends 'base.html' %}
{% load static %}

{% block title %}Bienvenido | e-Garage{% endblock %}

{% block extra_head %}
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  tsParticles.load("tsparticles", {
    fullScreen: { enable: false },
    background: { color: { value: "transparent" } },
    particles: {
      number: { value: 90 },
      color: { value: ["#00ffff", "#00e6d0", "#007bff"] },
      size: { value: 2.5 },
      move: { enable: true, speed: 0.7 },
      links: { enable: true, color: "#00e6d0", distance: 120 }
    }
  });
});
</script>
{% endblock %}

{% block fondo_extra %}
<div id="tsparticles" class="fixed inset-0 -z-10"></div>
{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center relative text-white">
  <div class="z-10 text-center px-8 py-10 futuristic-card max-w-2xl border-2 border-cyan-400/40">
    <div class="flex flex-col items-center mb-4">
      <a href="/" class="btn btn-outline mb-4">Volver a la p치gina principal</a>
      {% if usuario.is_authenticated %}
        <p>Empresa: {{ empresa.nombre }}</p>
        <!-- Bot칩n de cerrar sesi칩n eliminado -->
      {% else %}
        <h2 class="premium-title text-2xl font-bold text-center mb-6">Iniciar sesi칩n</h2>
        <form class="space-y-5" method="POST" action="/accounts/login/">
          {% csrf_token %}
          <div>
            <label class="block text-sm font-semibold text-gray-300" for="id_login">Nombre de usuario</label>
            <input type="text" name="login" id="id_login" class="w-full rounded px-3 py-2 text-black" required>
          </div>
          <div>
            <label class="block text-sm font-semibold text-gray-300" for="id_password">Contrase침a</label>
            <input type="password" name="password" id="id_password" class="w-full rounded px-3 py-2 text-black" required>
          </div>
          <button type="submit" class="w-full btn-premium">Iniciar sesi칩n</button>
        </form>
        <div class="mt-4">
          <a class="text-blue-400 hover:underline" href="{% url 'account_reset_password' %}">쯆lvidaste tu contrase침a?</a>
        </div>
      {% endif %}
    </div>
    <p class="text-xl text-cyan-100 mb-6 frase-cambiante">Gestiona tu taller con tecnolog칤a de punta 游</p>
    <div class="mt-6 text-sm text-cyan-200">
      <p>쯅ecesitas ayuda? <a href="mailto:soporte@tallerpro.com" class="underline hover:text-cyan-100">Cont치ctanos</a></p>
    </div>
  </div>
</div>
<style>
/* Styles omitted for brevity */
</style>
{% endblock %}

{% block extra_js %}
<script>
  const frases = [
    "춰Bienvenido de nuevo!",
    "Gestiona clientes, veh칤culos y repuestos en un solo lugar.",
    "Tu taller, tu control, tu futuro.",
    "Automatiza y ahorra tiempo todos los d칤as.",
    "Soporte y actualizaciones constantes.",
    "Tecnolog칤a premium para talleres inteligentes.",
    "Visualiza todo con dashboards futuristas.",
    "E-Garage: Donde la innovaci칩n es tu herramienta."
  ];
  let i = 0;
  setInterval(() => {
    document.querySelector('.frase-cambiante').textContent = frases[i];
    i = (i + 1) % frases.length;
  }, 4000);
</script>
{% endblock %}
{% extends 'base.html' %}
{% load static %}

{% block title %}Bienvenido | e-Garage{% endblock %}

{% block extra_head %}
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  tsParticles.load("tsparticles", {
    fullScreen: { enable: false },
    background: { color: { value: "transparent" } },
    particles: {
      number: { value: 90 },
      color: { value: ["#00ffff", "#00e6d0", "#007bff"] },
      size: { value: 2.5 },
      move: { enable: true, speed: 0.7 },
      links: { enable: true, color: "#00e6d0", distance: 120 }
    }
  });
});
</script>
{% endblock %}

{% block fondo_extra %}
<div id="tsparticles" class="fixed inset-0 -z-10"></div>
{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center relative text-white">
  <div class="z-10 text-center px-8 py-10 futuristic-card max-w-2xl border-2 border-cyan-400/40">
    <div class="flex flex-col items-center mb-4">
      <a href="/" class="btn btn-outline mb-4">Volver a la p치gina principal</a>
      {% if usuario.is_authenticated %}
        <p>Empresa: {{ empresa.nombre }}</p>
        <!-- Bot칩n de cerrar sesi칩n eliminado -->
      {% else %}
        <h2 class="premium-title text-2xl font-bold text-center mb-6">Iniciar sesi칩n</h2>
        <form class="space-y-5" method="POST" action="/accounts/login/">
          {% csrf_token %}
          <div>
            <label class="block text-sm font-semibold text-gray-300" for="id_login">Nombre de usuario</label>
            <input type="text" name="login" id="id_login" class="w-full rounded px-3 py-2 text-black" required>
          </div>
          <div>
            <label class="block text-sm font-semibold text-gray-300" for="id_password">Contrase침a</label>
            <input type="password" name="password" id="id_password" class="w-full rounded px-3 py-2 text-black" required>
          </div>
          <button type="submit" class="w-full btn-premium">Iniciar sesi칩n</button>
        </form>
        <div class="mt-4">
          <a class="text-blue-400 hover:underline" href="{% url 'account_reset_password' %}">쯆lvidaste tu contrase침a?</a>
        </div>
      {% endif %}
    </div>
    <p class="text-xl text-cyan-100 mb-6 frase-cambiante">Gestiona tu taller con tecnolog칤a de punta 游</p>
    <div class="mt-6 text-sm text-cyan-200">
      <p>쯅ecesitas ayuda? <a href="mailto:soporte@tallerpro.com" class="underline hover:text-cyan-100">Cont치ctanos</a></p>
    </div>
  </div>
</div>
<style>
.futuristic-card {
    background: rgba(24,25,26,0.18);
    border-radius: 22px;
    box-shadow: 0 8px 32px 0 rgba(0,255,255,0.13), 0 1.5px 0 0 #00e6d0;
    color: #fff;
    text-align: center;
    z-index: 3;
    backdrop-filter: blur(10px) saturate(120%);
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    border: 1.5px solid rgba(0,230,208,0.18);
}
.logo-egarage-header {
    width: 64px;
    height: 64px;
    display: block;
    filter: drop-shadow(0 0 12px #00e6d0cc);
}
.animate-logo {
    animation: logoPulse 2.5s infinite alternate;
}
@keyframes logoPulse {
    0% { transform: scale(1) rotate(-6deg); filter: drop-shadow(0 0 8px #00e6d0cc); }
    100% { transform: scale(1.08) rotate(6deg); filter: drop-shadow(0 0 24px #00e6d0); }
}
.futuristic-glow {
    text-shadow: 0 0 16px #00e6d0, 0 0 32px #00e6d0, 0 0 2px #fff;
}
.cta-btn-premium {
    background: linear-gradient(90deg, #00e6d0 0%, #007bff 100%);
    color: #18191a;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    box-shadow: 0 2px 16px #00e6d055;
    transition: background 0.2s, transform 0.2s;
}
.cta-btn-premium:hover {
    background: linear-gradient(90deg, #00bfa3 0%, #0056b3 100%);
    transform: scale(1.04);
}
.cta-btn-outline {
    background: transparent;
    border: 2px solid #00e6d0;
    color: #00e6d0;
    border-radius: 12px;
    font-weight: 700;
    transition: background 0.2s, color 0.2s, transform 0.2s;
}
.cta-btn-outline:hover {
    background: #00e6d022;
    color: #fff;
    transform: scale(1.04);
}
</style>
{% endblock %}

{% block extra_js %}
<script>
  const frases = [
    "춰Bienvenido de nuevo!",
    "Gestiona clientes, veh칤culos y repuestos en un solo lugar.",
    "Tu taller, tu control, tu futuro.",
    "Automatiza y ahorra tiempo todos los d칤as.",
    "Soporte y actualizaciones constantes.",
    "Tecnolog칤a premium para talleres inteligentes.",
    "Visualiza todo con dashboards futuristas.",
    "E-Garage: Donde la innovaci칩n es tu herramienta."
  ];
  let i = 0;
  setInterval(() => {
    document.querySelector('.frase-cambiante').textContent = frases[i];
    i = (i + 1) % frases.length;
  }, 4000);
</script>
{% endblock %}
