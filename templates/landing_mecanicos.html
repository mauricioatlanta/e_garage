{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
// Gr√°fica 3D: engranajes y l√≠neas de conexi√≥n
document.addEventListener("DOMContentLoaded", () => {
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
  renderer.setClearColor(0x000000, 0);
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.getElementById('tsparticles').appendChild(renderer.domElement);
  // Engranaje principal
  const geometry = new THREE.TorusGeometry(14, 3, 16, 100);
  const material = new THREE.MeshPhysicalMaterial({
    color: 0x00ffe7,
    metalness: 0.8,
    roughness: 0.1,
    transmission: 0.7,
    thickness: 2.5,
    clearcoat: 1,
    clearcoatRoughness: 0.1,
    reflectivity: 1,
    emissive: 0x00ffe7,
    emissiveIntensity: 0.15
  });
  const gear = new THREE.Mesh(geometry, material);
  scene.add(gear);
  // Wireframe
  const wireframe = new THREE.LineSegments(
    new THREE.WireframeGeometry(geometry),
    new THREE.LineBasicMaterial({ color: 0xa3ff12, linewidth: 1, opacity: 0.18, transparent: true })
  );
  gear.add(wireframe);
  camera.position.z = 44;
  // Luz
  const light1 = new THREE.PointLight(0xffffff, 1.5);
  light1.position.set(30, 30, 60);
  scene.add(light1);
  const light2 = new THREE.PointLight(0x00ffe7, 0.7);
  light2.position.set(-30, -20, 30);
  scene.add(light2);
  // Animaci√≥n
  let t = 0;
  function animate() {
    requestAnimationFrame(animate);
    t += 0.01;
    gear.rotation.x += 0.004;
    gear.rotation.y += 0.006;
    gear.position.x = Math.sin(t) * 1.2;
    gear.position.y = Math.cos(t) * 0.7;
    renderer.render(scene, camera);
  }
  animate();
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
});
</script>
{% endblock %}

{% block fondo_extra %}
<div id="star-bg" class="fixed inset-0 -z-20"></div>
<div id="tsparticles" class="fixed inset-0 -z-10"></div>
{% endblock %}

{% block content %}
<main class="max-w-4xl mx-auto py-16">
  <div class="flex flex-col items-center mb-10">
    <img src="{% static 'img/TallerPro_logo.png' %}" alt="E-Garage Logo" class="h-20 mb-6 drop-shadow-2xl animate-pulse">
    <h1 class="text-5xl md:text-6xl font-black text-center text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-lime-400 to-fuchsia-500 mb-4 tracking-tight futuristic-glow">Mec√°nicos y responsables</h1>
    <p class="text-center text-xl text-cyan-100 mb-2 max-w-2xl font-semibold">
      <span class="block mb-2 text-lime-300 font-bold">Convierte la gesti√≥n de tu equipo en tu mayor fortaleza.</span>
      Asigna responsables, mide desempe√±o y accede al historial de cada trabajo con un solo clic.<br>
      <span class="block mt-4 text-fuchsia-400 font-bold text-2xl">Optimiza tu taller, motiva a tu equipo, supera a tu competencia.</span>
    </p>
    <a href="#suscripcion" class="cta-btn-premium pulse py-4 px-10 rounded-2xl font-extrabold text-2xl shadow-2xl transition-all mt-8">Quiero esta ventaja en mi taller</a>
  </div>
  <section class="bg-gray-900 bg-opacity-90 rounded-2xl p-8 shadow-2xl mb-10">
    <h2 class="text-2xl font-bold text-cyan-300 mb-4 flex items-center"><i class="fas fa-user-cog mr-2"></i> ¬øPor qu√© elegir esta funci√≥n?</h2>
    <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 text-cyan-100 text-lg">
      <li class="flex items-center"><i class="fas fa-bolt text-lime-400 mr-2"></i> Control total sobre el desempe√±o de cada mec√°nico.</li>
      <li class="flex items-center"><i class="fas fa-eye text-lime-400 mr-2"></i> Historial detallado de trabajos y responsables.</li>
      <li class="flex items-center"><i class="fas fa-chart-line text-lime-400 mr-2"></i> M√©tricas y reportes de productividad en tiempo real.</li>
      <li class="flex items-center"><i class="fas fa-users text-lime-400 mr-2"></i> Motiva y reconoce a tu equipo con datos objetivos.</li>
      <li class="flex items-center"><i class="fas fa-trophy text-lime-400 mr-2"></i> Transforma tu taller en un referente de excelencia.</li>
    </ul>
  </section>
  <section id="suscripcion" class="bg-gray-900 bg-opacity-90 rounded-2xl p-8 shadow-2xl mb-10 mt-12 text-center">
    <h2 class="text-2xl font-bold text-yellow-300 mb-4 flex items-center justify-center"><i class="fas fa-gem mr-2"></i> Suscr√≠bete y accede a la gesti√≥n avanzada de tu equipo</h2>
    <p class="text-lg text-cyan-100 mb-6">Lleva tu taller al siguiente nivel con herramientas de gesti√≥n profesional, motivaci√≥n y control.<br>¬°Invierte en el √©xito de tu equipo!</p>
    <a href="#" class="cta-btn-premium py-4 px-10 rounded-2xl font-extrabold text-2xl shadow-2xl transition-all inline-block">üí≥ Suscribirse (pr√≥ximamente)</a>
    <div class="mt-6 text-cyan-200 text-base">¬øPrefieres probar antes? <a href="{% url 'registro_trial' %}" class="underline text-lime-400 hover:text-fuchsia-400 transition-all">Solicita tu prueba gratis de 30 d√≠as aqu√≠</a>.</div>
  </section>
</main>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
{% endblock %}

<style>
.futuristic-glow {
  text-shadow: 0 0 24px #00ffe7, 0 0 8px #00ffe7, 0 0 2px #fff;
  letter-spacing: 2px;
}
.cta-btn-premium {
  background: linear-gradient(90deg, #00ffe7 0%, #a3ff12 50%, #ff00ea 100%);
  color: #181c1f;
  font-weight: 900;
  letter-spacing: 1px;
  box-shadow: 0 0 32px 0 #00ffe7aa, 0 2px 8px 0 #000a;
  border: none;
  outline: none;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
}
.cta-btn-premium:hover {
  background: linear-gradient(90deg, #ff00ea 0%, #a3ff12 50%, #00ffe7 100%);
  color: #000;
  box-shadow: 0 0 48px 0 #ff00ea99, 0 2px 8px 0 #000a;
}
.pulse {
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 #00ffe7aa; }
  70% { box-shadow: 0 0 0 16px #00ffe700; }
  100% { box-shadow: 0 0 0 0 #00ffe7aa; }
}
</style>

<script>
// Fondo de estrellas titilando
document.addEventListener("DOMContentLoaded", function() {
  const canvas = document.createElement('canvas');
  canvas.style.position = 'fixed';
  canvas.style.top = 0;
  canvas.style.left = 0;
  canvas.style.width = '100vw';
  canvas.style.height = '100vh';
  canvas.style.zIndex = '-20';
  canvas.style.pointerEvents = 'none';
  canvas.id = 'star-canvas';
  document.getElementById('star-bg').appendChild(canvas);
  const ctx = canvas.getContext('2d');
  let w = window.innerWidth, h = window.innerHeight;
  canvas.width = w;
  canvas.height = h;
  let stars = Array.from({length: 120}, () => ({
    x: Math.random() * w,
    y: Math.random() * h,
    r: Math.random() * 1.2 + 0.3,
    o: Math.random(),
    d: Math.random() * 2 * Math.PI
  }));
  function drawStars() {
    ctx.clearRect(0,0,w,h);
    for(const s of stars) {
      ctx.save();
      ctx.globalAlpha = 0.6 + 0.4 * Math.sin(Date.now()/600 + s.d);
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, 2*Math.PI);
      ctx.fillStyle = '#fff';
      ctx.shadowColor = '#00ffe7';
      ctx.shadowBlur = 8;
      ctx.fill();
      ctx.restore();
    }
  }
  function animate() {
    drawStars();
    requestAnimationFrame(animate);
  }
  animate();
  window.addEventListener('resize', function() {
    w = window.innerWidth;
    h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;
    stars.forEach(s => {
      s.x = Math.random() * w;
      s.y = Math.random() * h;
    });
  });
});
</script>
